<script>
document.addEventListener("DOMContentLoaded", () => {

const wa='6285797758961';

const modal = document.getElementById('modal');
const modalTitle = document.getElementById('modalTitle');
const modalBody = document.getElementById('modalBody');
const container = document.getElementById('games');

if(!container){
  console.error("DIV #games TIDAK DITEMUKAN");
  return;
}

const games=[
  {
    name:'Mobile Legends',
    img:'ml.jpg',
    items:[
      {n:'86 Diamond',h:'Rp18.000'},
      {n:'172 Diamond',h:'Rp36.000'}
    ]
  }
];

function render(){
  games.forEach(g=>{
    const c=document.createElement('div');
    c.className='game-card';
    c.innerHTML=`
      <img src="${g.img}">
      <div class="game-info">
        <h3>${g.name}</h3>
        <div class="hint">Pilih Nominal</div>
      </div>`;
    c.onclick=()=>openModal(g);
    container.appendChild(c);
  });
}

function openModal(game){
  modalTitle.innerText=game.name;
  modalBody.innerHTML='';
  game.items.forEach(d=>{
    const a=document.createElement('a');
    a.className='order-btn';
    a.href=`https://wa.me/${wa}?text=Game:${game.name}%0ANominal:${d.n}%0AHarga:${d.h}`;
    a.innerText=`${d.n} â€“ ${d.h}`;
    modalBody.appendChild(a);
  });
  modal.style.display='flex';
}

window.closeModal = ()=> modal.style.display='none';

render();

});
</script>
