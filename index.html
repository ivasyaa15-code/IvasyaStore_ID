<script>
const wa='6285797758961';

const games=[
  {
    name:'Mobile Legends',
    img:'ml.png',
    badge:'POPULER',
    items:[
      {n:'86 Diamond',h:'Rp18.000'},
      {n:'172 Diamond',h:'Rp36.000'},
      {n:'344 Diamond',h:'Rp72.000'}
    ]
  },
  {
    name:'Free Fire',
    img:'ff.png',
    badge:'HOT',
    items:[
      {n:'70 Diamond',h:'Rp10.000'},
      {n:'140 Diamond',h:'Rp20.000'}
    ]
  },
  {
    name:'Genshin Impact',
    img:'genshin.png',
    items:[
      {n:'60 Genesis',h:'Rp15.000'},
      {n:'300 Genesis',h:'Rp75.000'}
    ]
  },
  {
    name:'PUBG Mobile',
    img:'pubg.png',
    items:[
      {n:'60 UC',h:'Rp15.000'},
      {n:'180 UC',h:'Rp45.000'}
    ]
  }
];

const container=document.getElementById('games');

/* RENDER GAME */
function render(list){
  container.innerHTML='';
  list.forEach(g=>{
    const c=document.createElement('div');
    c.className='game-card';
    c.innerHTML=`
      ${g.badge?`<div class="badge ${g.badge=='HOT'?'hot':''}">${g.badge}</div>`:''}
      <img src="${g.img}">
      <div class="game-info">
        <h3>${g.name}</h3>
        <div class="hint">Pilih Nominal</div>
      </div>`;
    c.onclick=()=>openModal(g);
    container.appendChild(c);
  });
}
render(games);

/* MODAL NOMINAL */
function openModal(game){
  modalTitle.innerText=game.name;
  modalBody.innerHTML='';

  game.items.forEach(d=>{
    const btn=document.createElement('a');
    btn.className='order-btn';
    btn.href=`https://wa.me/${wa}?text=Halo%20IvasyaStore%0AGame:%20${encodeURIComponent(game.name)}%0ANominal:%20${encodeURIComponent(d.n)}%0AHarga:%20${encodeURIComponent(d.h)}`;
    btn.innerText=`${d.n} â€“ ${d.h}`;
    modalBody.appendChild(btn);
  });

  modal.style.display='flex';
}

function closeModal(){
  modal.style.display='none';
}
</script>
